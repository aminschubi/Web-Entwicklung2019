var express=require("express");var path=require("path");var app=express();var fs=require("fs");var plans=[];var modules=[];app.use(express.static(path.join(__dirname,"./")));var port=process.env.PORT||8080;app.listen(port,function(){console.log("Example app listening on port "+port+"!")});class FileHandler{constructor(url,target){this.url=url;this.target=target}read(){let cb=data=>{try{this.target.data=JSON.parse(data);console.log(JSON.parse(data))}catch(error){fs.writeFile(this.url,JSON.stringify([]),error=>{if(error){console.log(error)}this.target=[]})}};fs.readFile(this.url,"utf8",(err,data)=>{cb(data)})}write(){fs.writeFile(this.url,JSON.stringify(this.target),error=>{if(error){console.error(error)}})}}var moduleHandler=new FileHandler("../db/m.json",modules);var planHandler=new FileHandler("../db/plans.json",plans);console.log(plans);moduleHandler.read();planHandler.read();console.log(plans);